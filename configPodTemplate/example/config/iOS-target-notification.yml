############
# Targets
############

targets:

  # -----------
  # MyApp_iOS
  # -----------

  # -----------
  # NotificationContent
  # -----------
  NotificationContent:
    platform: iOS
    type: app-extension
    info:
      path: $SRCROOT/NotificationContent/Info.plist
    sources:
      - path: NotificationContent
        inferDestinationFiltersByPath: true
        excludes:
          - "**/*.plist"
      - CommonFiles

    # Config Files
    configFiles:
      Debug: config/iOS-config/target-notificationContent/config-custom/debug.xcconfig
      Release: config/iOS-config/target-notificationContent/config-custom/release.xcconfig
      DebugQ: config/iOS-config/target-notificationContent/config-enterprise/debug.xcconfig
      ReleaseQ: config/iOS-config/target-notificationContent/config-enterprise/release.xcconfig

    # dependencies
    dependencies:
      - sdk: UserNotifications.framework

    # scripts
    preBuildScripts:
      # show build configuration
      - script: |
          # Build Configuration
          echo "Build target: $TARGETNAME"
          echo "Build Configuration: $CONFIGURATION"
          echo "GCC_PREPROCESSOR_DEFINITIONS: $GCC_PREPROCESSOR_DEFINITIONS"
        name: ðŸ”¥build configuration

  # -----------
  # NotificationService
  # -----------

  NotificationService:
    platform: iOS
    type: app-extension
    info:
      path: $SRCROOT/NotificationService/Info.plist
    sources:
      - path: NotificationService
        inferDestinationFiltersByPath: true
        excludes:
          - "**/*.plist"
      - CommonFiles

    # Config Files
    configFiles:
      Debug: config/iOS-config/target-notificationService/config-custom/debug.xcconfig
      Release: config/iOS-config/target-notificationService/config-custom/release.xcconfig
      DebugQ: config/iOS-config/target-notificationService/config-enterprise/debug.xcconfig
      ReleaseQ: config/iOS-config/target-notificationService/config-enterprise/release.xcconfig

    # dependencies
    dependencies:
      - sdk: UserNotifications.framework

    # scripts
    preBuildScripts:
      # show build configuration
      - script: |
          # Build Configuration
          echo "Build target: $TARGETNAME"
          echo "Build Configuration: $CONFIGURATION"
          echo "GCC_PREPROCESSOR_DEFINITIONS: $GCC_PREPROCESSOR_DEFINITIONS"
        name: ðŸ”¥build configuration